复用主要逻辑的移位综合乘除法器
==================

端口说明
---------------

`rst`：输入，复位信号；<br>
`clk`：输入，时钟信号；<br>
`sel_mul_div`：输入，乘除法选择信号；<br>
`signed_i`：输入，符号选择信号；<br>
`opdata1_i`：输入，乘除法源操作数1；<br>
`opdata2_i`：输入，乘除法源操作数2；<br>
`start_i`：输入，开始信号;<br>
`annul_i`：输入，取消信号;<br>
`result_o`：输出，乘除法结果;<br>
`ready_o`：输出，完成信号;<br>

信号说明
--------

`rst`：复位信号，用于复位;<br>
`clk`：时钟信号，用于产生时钟信号;<br>
`sel_mul_div`：乘除法选择信号，用于选择乘除法器进行除法还是除法;<br>
`signed_i`：符号选择信号,用于选择进行乘除法操作的是有符号数还是无符号数;<br>
`start_i`：开始信号，用于表示乘除法是否开始;<br>
`annul_i`：取消信号，用于取消乘除法操作;<br>
`ready_o`：完成信号，用于表示乘除法是否完成运算;<br>

功能模块说明
------------

        实现了复用主要逻辑的移位综合乘除法器，整合乘除法，用于进行32位二进制数的乘除法，包括无符号数和有符号的乘除法。
        
算法流程
-------

![](https://github.com/JieYan828/MyCPU/raw/Yan_Jie/乘除法流程图.png)
        乘除法器件算法流程图如上所示，具体流程：<br>
        1、判断是否为有符号数乘除法，是执行2，否执行3；<br>
        2、对两个操作数求补码，得到原码temp_a,temp_b；<br>
        3、判断乘除法是否结束，结束条件为移位32次，是执行13，否执行4；<br>
        4、判断进行乘法或除法，若进行乘法执行5，否则执行9；<br>
        5、判断temp_b的最低位是否为1，是执行6，否则执行7；<br>
        6、temp_result = temp_result + temp_a；<br>
        7、temp_a左移1位，temp_b右移1位；<br>
        8、返回3；<br>
        9、操作数1(temp_a)左移1位；<br>
        10、判断temp_a是否大于temp_b，是执行11，否则执行12；
        11、temp_a = temp_a - temp_b + 1；<br>
        12、返回3；<br>
        13、选择result_o，如果是乘法，result_o = temp_result；如果是除法,result_o = temp_a；<br>
        14、判断是否为有符号数乘除法，是执行15，否结束；<br>
        15、求result_o的补码，结束。<br>
